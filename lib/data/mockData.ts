// Mock stock data for testing
import { StockData } from '../domain/AnalysisTypes';

export const MOCK_STOCK_DATA: Record<string, StockData> = {
  AAPL: {
    ticker: 'AAPL',
    name: 'Apple Inc.',
    currency: 'USD',
    fundamentals: {
      trailingPE: 29.5,
      forwardPE: 26.8,
      dividendYieldPct: 0.52,
      revenueGrowthYoYPct: 2.1,
      epsGrowthYoYPct: 10.3,
      netMarginPct: 25.3,
      freeCashFlowYieldPct: 4.2,
      debtToEquity: 1.78,
      roe: 160.5,
    },
    technicals: {
      price: 189.50,
      price52wHigh: 199.62,
      price52wLow: 164.08,
      sma20: 188.25,
      sma50: 186.40,
      sma200: 182.15,
      rsi14: 58.3,
      volume: 52480000,
      avgVolume: 56230000,
    },
    sentiment: {
      analystConsensus: 'buy',
      analystTargetMean: 205.50,
      analystTargetHigh: 250.00,
      analystTargetLow: 158.00,
      newsThemes: [
        'Strong iPhone 15 demand in key markets',
        'Services revenue continues steady growth',
        'AI integration plans announced for upcoming products',
        'Market share gains in premium smartphone segment',
      ],
    },
  },
  MSFT: {
    ticker: 'MSFT',
    name: 'Microsoft Corporation',
    currency: 'USD',
    fundamentals: {
      trailingPE: 35.2,
      forwardPE: 30.5,
      dividendYieldPct: 0.78,
      revenueGrowthYoYPct: 13.2,
      epsGrowthYoYPct: 18.5,
      netMarginPct: 36.7,
      freeCashFlowYieldPct: 3.8,
      debtToEquity: 0.42,
      roe: 42.3,
    },
    technicals: {
      price: 378.25,
      price52wHigh: 384.30,
      price52wLow: 309.45,
      sma20: 375.80,
      sma50: 368.20,
      sma200: 352.60,
      rsi14: 62.5,
      volume: 23450000,
      avgVolume: 25680000,
    },
    sentiment: {
      analystConsensus: 'strong_buy',
      analystTargetMean: 425.00,
      analystTargetHigh: 500.00,
      analystTargetLow: 360.00,
      newsThemes: [
        'Azure cloud revenue growth exceeds expectations',
        'OpenAI partnership driving AI leadership position',
        'Strong enterprise software demand',
        'Gaming division showing resilience',
      ],
    },
  },
  TSLA: {
    ticker: 'TSLA',
    name: 'Tesla, Inc.',
    currency: 'USD',
    fundamentals: {
      trailingPE: 72.8,
      forwardPE: 58.3,
      dividendYieldPct: 0.0,
      revenueGrowthYoYPct: 18.8,
      epsGrowthYoYPct: 25.4,
      netMarginPct: 15.5,
      freeCashFlowYieldPct: 2.1,
      debtToEquity: 0.17,
      roe: 28.5,
    },
    technicals: {
      price: 242.80,
      price52wHigh: 299.29,
      price52wLow: 152.37,
      sma20: 238.50,
      sma50: 228.75,
      sma200: 210.40,
      rsi14: 55.2,
      volume: 115230000,
      avgVolume: 120450000,
    },
    sentiment: {
      analystConsensus: 'hold',
      analystTargetMean: 245.00,
      analystTargetHigh: 380.00,
      analystTargetLow: 125.00,
      newsThemes: [
        'Cybertruck production ramping up',
        'Price competition intensifying in EV market',
        'Energy storage business showing strong growth',
        'Full Self-Driving updates continue rollout',
      ],
    },
  },
  GOOGL: {
    ticker: 'GOOGL',
    name: 'Alphabet Inc.',
    currency: 'USD',
    fundamentals: {
      trailingPE: 25.3,
      forwardPE: 22.1,
      dividendYieldPct: 0.45,
      revenueGrowthYoYPct: 11.2,
      epsGrowthYoYPct: 14.8,
      netMarginPct: 27.2,
      freeCashFlowYieldPct: 5.1,
      debtToEquity: 0.08,
      roe: 28.9,
    },
    technicals: {
      price: 138.75,
      price52wHigh: 145.92,
      price52wLow: 102.21,
      sma20: 137.20,
      sma50: 134.80,
      sma200: 128.45,
      rsi14: 59.8,
      volume: 28340000,
      avgVolume: 30120000,
    },
    sentiment: {
      analystConsensus: 'buy',
      analystTargetMean: 160.00,
      analystTargetHigh: 190.00,
      analystTargetLow: 125.00,
      newsThemes: [
        'Gemini AI model competing with GPT-4',
        'YouTube advertising revenue stabilizing',
        'Cloud infrastructure business gaining share',
        'Search dominance under regulatory scrutiny',
      ],
    },
  },
  NVDA: {
    ticker: 'NVDA',
    name: 'NVIDIA Corporation',
    currency: 'USD',
    fundamentals: {
      trailingPE: 68.5,
      forwardPE: 45.2,
      dividendYieldPct: 0.04,
      revenueGrowthYoYPct: 206.0,
      epsGrowthYoYPct: 588.0,
      netMarginPct: 48.5,
      freeCashFlowYieldPct: 2.8,
      debtToEquity: 0.37,
      roe: 115.2,
    },
    technicals: {
      price: 495.20,
      price52wHigh: 502.66,
      price52wLow: 204.50,
      sma20: 488.30,
      sma50: 472.15,
      sma200: 415.80,
      rsi14: 64.7,
      volume: 45680000,
      avgVolume: 50120000,
    },
    sentiment: {
      analystConsensus: 'strong_buy',
      analystTargetMean: 625.00,
      analystTargetHigh: 850.00,
      analystTargetLow: 350.00,
      newsThemes: [
        'AI chip demand remains exceptionally strong',
        'Data center revenue breaking records',
        'Supply constraints gradually easing',
        'Competition from AMD and custom chips emerging',
      ],
    },
  },
};

export function getMockStockData(ticker: string): StockData | null {
  const upperTicker = ticker?.toUpperCase?.();
  if (!upperTicker) {
    return null;
  }
  
  return MOCK_STOCK_DATA[upperTicker] ?? null;
}
